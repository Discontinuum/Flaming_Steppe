[scenario]
	id=The_Camp
	name=_"The Camp"
	map_data="{~add-ons/Flaming_Steppe/maps/Camp.map}"
	next_scenario=Khaganate
	random_start_time="yes"
	{DEFAULT_SCHEDULE}
	victory_when_enemies_defeated=no
	{USER_SIDE_RECALL 1 100 no}
	{USER_SIDE_RECALL 2 100 no}
	[side]
		side=3
		controller=null
		canrecruit=yes
		gold=0
		income=-2
		fog=no
		village_gold=0
		no_leader=yes
		allow_player=false
		team_lock=true
		team_name=allies
		user_team_name= _ "Allies"
	[/side]
	[side]
		side=4
		controller=null
		canrecruit=yes
		gold=0
		income=-2
		fog=no
		village_gold=0
		no_leader=yes
		allow_player=false
		team_lock=true
		team_name=allies
		user_team_name= _ "Allies"
	[/side]
	[side]
		side=5
		controller=null
		canrecruit=yes
		gold=0
		income=-2
		fog=no
		village_gold=0
		no_leader=yes
		allow_player=false
		team_lock=true
		team_name=allies
		user_team_name= _ "Mercenaries"
	[/side]
	[side]
		side=6
		controller=null
		canrecruit=yes
		gold=0
		income=-2
		fog=no
		village_gold=0
		no_leader=yes
		allow_player=false
		team_lock=true
		team_name=allies
		user_team_name= _ "Mercenaries"
	[/side]
	[side]
		side=7
		controller=null
		canrecruit=yes
		gold=0
		income=-2
		fog=no
		village_gold=0
		no_leader=yes
		allow_player=false
		team_lock=true
		team_name=allies
		user_team_name= _ "Mercenaries"
	[/side]
	[side]
		side=8
		controller=null
		canrecruit=yes
		gold=0
		income=-2
		fog=no
		village_gold=0
		no_leader=yes
		allow_player=false
		team_lock=true
		team_name=allies
		user_team_name= _ "Mercenaries"
	[/side]
	[event]
		name=start
		[capture_village]
			side=1
			[filter]
				side=1
				canrecruit=yes
			[/filter]
			radius=4
		[/capture_village]
		[capture_village]
			side=2
			[filter]
				side=2
				canrecruit=yes
			[/filter]
			radius=4
		[/capture_village]
		[lua]
        		code = << wesnoth.dofile("~add-ons/Flaming_Steppe/lua/mercs.lua") >>
    		[/lua]
    		[get_mercs_types]
    		[/get_mercs_types]
    		{GENERIC_UNIT 5 $mercs[0].type11 9 5}
    		{GENERIC_UNIT 5 $mercs[0].type12 10 4}
    		{TRIGGER_MERCS 5 9 5}
    		{GENERIC_UNIT 6 $mercs[0].type21 13 6}
    		{GENERIC_UNIT 6 $mercs[0].type22 14 6}
    		{TRIGGER_MERCS 6 14 6}
    		{GENERIC_UNIT 7 $mercs[0].type31 10 12}
    		{GENERIC_UNIT 7 $mercs[0].type32 11 12}
    		{TRIGGER_MERCS 7 10 12}
    		{GENERIC_UNIT 8 $mercs[0].type41 7 11}
    		{GENERIC_UNIT 8 $mercs[0].type42 6 10}
    		{TRIGGER_MERCS 8 7 11}
    		[label]
			x=10
			y=8
			color=255,0,0
			text= _"We're gonna raid:" + "
" + _ "Khaganate"
		[/label]
		{VARIABLE next_raid "Khaganate"}
	[/event]
	[event]
		name=moveto
		first_time_only=no
		[filter]
			[filter_location]
				x=10
				y=8
			[/filter_location]
		[/filter]
		[message]
			side=$side_number
			canrecruit=yes
			message=_"We're gonna raid..."
			[option]
				image="units/khaganate/naga2b.png~RC(magenta>red)"
				description=_"the Serpent Khaganate"
				[command]
					[label]
						x=10
						y=8
						color=255,0,0
						text= _"We're gonna raid:" + "
" + _ "Khaganate"
					[/label]
					{VARIABLE next_raid "Khaganate"}
					[message]
						side=$side_number
						canrecruit=yes
						message=_"We're gonna raid the Khaganate"
					[/message]
              			[/command]
			[/option]
			[option]
              			image="units/mandate/hydra2.png~RC(magenta>red)"
				description=_"the Tartarus Mandate"
				[command]
					[label]
						x=10
						y=8
						color=255,0,0
						text= _"We're gonna raid:" + "
" + _ "Mandate"
					[/label]
					{VARIABLE next_raid "Mandate"}
					[message]
						side=$side_number
						canrecruit=yes
						message=_"We're gonna raid the Mandate"
					[/message]
              			[/command]
			[/option]
		[/message]
	[/event]
	[event]
		name=turn 4
		[endlevel]
                    result=victory
                    next_scenario=$next_raid
                    carryover_percentage=0
                    carryover_add=false
                    carryover_report=no
                [/endlevel]
	[/event]
[/scenario]
